<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
       <h:body>

        
  <ui:composition template="/WEB-INF/facelets/template.xhtml">
  <ui:param name="page" value="Userlogin" />
  <ui:define name="title">User login
  <div class="card">
 
  
  <br></br>  <br></br>
  
  <font size="3" color="black" >Reset Password  </font><br></br>
  <br></br> <br></br><br></br>
  
  		
			  <font size="4" color="red" style="text-align: center;"><h:outputText value="#{resetPasswordService.statusMessage}" /></font>
			   	<c:if test="#{userRegistService.statusMessage.equals('User name does not exist')}">
					  <center>
					  <font size="4" color="red" style="text-align: center;">User name does not exist  </font>
					  </center>
  			   </c:if>
	

  		
   <br></br> <br></br><br></br>
  
		
                 <h:form id="form1">
                <p:messages id="msgs"/>
              <p:panel id="panel1" style="background-image: url('back1.jpg'); ">   
                <p:panelGrid columns="3" styleClass="noBorder" style="top : 0;left : 0; padding : 0; bottom : 0 ;">
          
                	<p:panelGrid columns="2" styleClass="noBorder" style="top : 0;left : 0; padding : 0; bottom : 0">
                
                
                    <p:outputLabel style="font-weight: bold"  value="User Name : " />
                    <p:inputText id="name"  value="#{resetPasswordService.userName}" required="true" requiredMessage="User name is required">
                    </p:inputText>
                       
	               					
					
					<h:commandButton value="submit"  type="submit"  actionListener="#{resetPasswordService.resetPassword}" />
	
	              
		          
		            <p:commandButton value="Clear" update="panel1" process="@this"
                                 action="#{resetPasswordService.reset}"
                                 styleClass="mr-2 ui-button-outlined"/>
                                 
    	      	 
	                   
                 </p:panelGrid> 
                </p:panelGrid>       
            </p:panel>
            </h:form>
            
            <c:if test="#{resetPasswordService.valied==true}"> 
            <h:form id="form2">
			             <p:panel id="panel2" style="background-image: url('back1.jpg'); ">   
			                <p:panelGrid columns="3" styleClass="noBorder" style="top : 0;left : 0; padding : 0; bottom : 0 ;">
			               	  <p:panelGrid columns="2" styleClass="noBorder" style="top : 0;left : 0; padding : 0; bottom : 0">
			               	
			             			            			                    
			                    <p:outputLabel style="font-weight: bold" value="New Password : " />
			                    <p:password id="password1" required="true" value="#{resetPasswordService.password}"  requiredMessage="Password is required">
			                        <f:validateLength minimum="8" maximum="13"></f:validateLength>
			                    	<f:validateRegex pattern="((?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[@#$%]).{6,20})" />
			                    </p:password>
			                     <p:message for="password1" display="icon"/>
			                    
								
								<h:commandButton value="Reset Password"  type="submit"  actionListener="#{resetPasswordService.updatePassword}" 
									process="@this"
                                    update="@form2" >
                                    
                                      <p:resetInput target="form2"/>
                   				</h:commandButton>
			               	
			  
			       			</p:panelGrid> 
			       			
			       			  <p:panelGrid columns="1" styleClass="noBorder" style="top : 0;left : 0; padding : 0; bottom : 0">
			               	<p:outputLabel style="font-weight: bold; color:block; font-size:18px;"  value=" User name rules: " />
			               	<p:outputLabel style="font-weight: 100; color:block; font-style:italic;"  value="1.User name should be at least Minimum 3 character to Maximum 15 character.." />
			               	<p:outputLabel style="font-weight: 100; color:block; font-style:italic;"  value="2..Space does not allowed to Username.." />
								  <p:outputLabel style="font-weight: bold; color:black; font-size:18px;"  value="Password rules: " />
			               	<p:outputLabel style="font-weight: 100; color:block; font-style:italic;"  value="3.Password should be at the Minimum 8 character to Maximum 15 character...." />
			               	<p:outputLabel style="font-weight: 100; color:block; font-style:italic;"  value="4.Password should not allow the space.." />
			               	<p:outputLabel style="font-weight: 100; color:block; font-style:italic;"  value="5.Password should allows the Numbers and Special Characters." />
			               </p:panelGrid>
			               
			               </p:panelGrid>  
			               
			              
			                   
			            </p:panel>
			 </h:form>
           </c:if>   
            

</div>
</ui:define>
</ui:composition>
<script type="text/javascript" src="resources/js/chatool.js"></script>
</h:body>
</html>
      